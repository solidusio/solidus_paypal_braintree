<% label = local_assigns[:label].presence %>
<% html_options = {class: 'custom-select fullwidth'}.update(local_assigns[:html_options] || {}) %>
<% options = form.object.send("#{attribute}_options") %>

<div class="field">
  <% if local_assigns[:form] %>
    <%= form.label attribute, label %>
    <%= form.select attribute, options, {}, html_options %>
  <% else %>
    <%= label_tag name, label %>
    <%= select_tag name, value, html_options %>
  <% end %>
</div>
